<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Çø„Çπ„ÇØÁÆ°ÁêÜ„Ç¢„Éó„É™ - „Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®àÊõ∏</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #1976d2;
            border-bottom: 3px solid #1976d2;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #333;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        
        .table-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .table-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .table-header {
            background: #1976d2;
            color: white;
            padding: 15px;
            font-weight: bold;
            font-size: 16px;
        }
        
        .table-content {
            padding: 15px;
        }
        
        .field-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .field-item {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
        }
        
        .field-item:last-child {
            border-bottom: none;
        }
        
        .field-name {
            font-weight: 500;
        }
        
        .field-type {
            color: #666;
            font-size: 14px;
        }
        
        .primary-key {
            color: #f44336;
            font-weight: bold;
        }
        
        .foreign-key {
            color: #ff9800;
            font-weight: bold;
        }
        
        .er-diagram {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .table-detail {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .detail-header {
            background: #f8f9fa;
            padding: 15px;
            font-weight: bold;
            font-size: 18px;
            border-bottom: 1px solid #ddd;
        }
        
        .detail-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .detail-table th {
            background: #f8f9fa;
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            font-weight: 600;
        }
        
        .detail-table td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .detail-table tr:hover {
            background: #f8f9fa;
        }
        
        .constraint {
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 3px;
            color: white;
            margin-left: 5px;
        }
        
        .pk { background: #f44336; }
        .fk { background: #ff9800; }
        .nn { background: #4caf50; }
        .uq { background: #9c27b0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>„Çø„Çπ„ÇØÁÆ°ÁêÜ„Ç¢„Éó„É™ „Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®àÊõ∏</h1>
        
        <h2>1. „Éá„Éº„Çø„Éô„Éº„ÇπÊ¶ÇË¶Å</h2>
        <p>PostgreSQL„Çí‰ΩøÁî®„Åó„Åü„Çø„Çπ„ÇØÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®à„ÄÇ„É°„Ç§„É≥„ÉÜ„Éº„Éñ„É´3„Å§„Å®Èñ¢ÈÄ£„ÉÜ„Éº„Éñ„É´„ÅßÊßãÊàê„ÄÇ</p>
        
        <div class="table-overview">
            <div class="table-card">
                <div class="table-header">tasks („Çø„Çπ„ÇØ)</div>
                <div class="table-content">
                    <ul class="field-list">
                        <li class="field-item">
                            <span class="field-name primary-key">id</span>
                            <span class="field-type">UUID (PK)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">title</span>
                            <span class="field-type">VARCHAR(100)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">description</span>
                            <span class="field-type">TEXT</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">category</span>
                            <span class="field-type">ENUM</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">priority</span>
                            <span class="field-type">ENUM</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">urgency</span>
                            <span class="field-type">ENUM</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">status</span>
                            <span class="field-type">ENUM</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">progress</span>
                            <span class="field-type">INTEGER</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="table-card">
                <div class="table-header">subtasks („Çµ„Éñ„Çø„Çπ„ÇØ)</div>
                <div class="table-content">
                    <ul class="field-list">
                        <li class="field-item">
                            <span class="field-name primary-key">id</span>
                            <span class="field-type">UUID (PK)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name foreign-key">task_id</span>
                            <span class="field-type">UUID (FK)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">title</span>
                            <span class="field-type">VARCHAR(200)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">completed</span>
                            <span class="field-type">BOOLEAN</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">order_index</span>
                            <span class="field-type">INTEGER</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="table-card">
                <div class="table-header">task_comments („Ç≥„É°„É≥„Éà)</div>
                <div class="table-content">
                    <ul class="field-list">
                        <li class="field-item">
                            <span class="field-name primary-key">id</span>
                            <span class="field-type">UUID (PK)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name foreign-key">task_id</span>
                            <span class="field-type">UUID (FK)</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">content</span>
                            <span class="field-type">TEXT</span>
                        </li>
                        <li class="field-item">
                            <span class="field-name">created_at</span>
                            <span class="field-type">TIMESTAMP</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <h2>2. ERÂõ≥</h2>
        <div class="er-diagram">
            <svg width="1000" height="600" viewBox="0 0 1000 600">
                <!-- Tasks „ÉÜ„Éº„Éñ„É´ -->
                <rect x="50" y="50" width="300" height="400" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="8"/>
                <rect x="50" y="50" width="300" height="40" fill="#1976d2" rx="8"/>
                <text x="200" y="75" text-anchor="middle" fill="white" font-weight="bold" font-size="16">tasks</text>
                
                <text x="60" y="110" font-size="14" font-weight="bold" fill="#f44336">üîë id (UUID)</text>
                <text x="60" y="130" font-size="14">title (VARCHAR(100))</text>
                <text x="60" y="150" font-size="14">description (TEXT)</text>
                <text x="60" y="170" font-size="14">category (ENUM)</text>
                <text x="60" y="190" font-size="14">priority (ENUM)</text>
                <text x="60" y="210" font-size="14">urgency (ENUM)</text>
                <text x="60" y="230" font-size="14">status (ENUM)</text>
                <text x="60" y="250" font-size="14">progress (INTEGER)</text>
                <text x="60" y="270" font-size="14">due_date (TIMESTAMP)</text>
                <text x="60" y="290" font-size="14">planned_start_date (TIMESTAMP)</text>
                <text x="60" y="310" font-size="14">planned_end_date (TIMESTAMP)</text>
                <text x="60" y="330" font-size="14">actual_start_date (TIMESTAMP)</text>
                <text x="60" y="350" font-size="14">actual_end_date (TIMESTAMP)</text>
                <text x="60" y="370" font-size="14">estimated_hours (FLOAT)</text>
                <text x="60" y="390" font-size="14">actual_hours (FLOAT)</text>
                <text x="60" y="410" font-size="14">notes (TEXT)</text>
                <text x="60" y="430" font-size="14">created_at (TIMESTAMP)</text>
                
                <!-- Subtasks „ÉÜ„Éº„Éñ„É´ -->
                <rect x="450" y="50" width="250" height="200" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="8"/>
                <rect x="450" y="50" width="250" height="40" fill="#ff9800" rx="8"/>
                <text x="575" y="75" text-anchor="middle" fill="white" font-weight="bold" font-size="16">subtasks</text>
                
                <text x="460" y="110" font-size="14" font-weight="bold" fill="#f44336">üîë id (UUID)</text>
                <text x="460" y="130" font-size="14" font-weight="bold" fill="#ff9800">üîó task_id (UUID)</text>
                <text x="460" y="150" font-size="14">title (VARCHAR(200))</text>
                <text x="460" y="170" font-size="14">completed (BOOLEAN)</text>
                <text x="460" y="190" font-size="14">order_index (INTEGER)</text>
                <text x="460" y="210" font-size="14">created_at (TIMESTAMP)</text>
                
                <!-- Task Comments „ÉÜ„Éº„Éñ„É´ -->
                <rect x="450" y="300" width="250" height="150" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="8"/>
                <rect x="450" y="300" width="250" height="40" fill="#9c27b0" rx="8"/>
                <text x="575" y="325" text-anchor="middle" fill="white" font-weight="bold" font-size="16">task_comments</text>
                
                <text x="460" y="360" font-size="14" font-weight="bold" fill="#f44336">üîë id (UUID)</text>
                <text x="460" y="380" font-size="14" font-weight="bold" fill="#ff9800">üîó task_id (UUID)</text>
                <text x="460" y="400" font-size="14">content (TEXT)</text>
                <text x="460" y="420" font-size="14">created_at (TIMESTAMP)</text>
                
                <!-- „É™„É¨„Éº„Ç∑„Éß„É≥Á∑ö -->
                <!-- Tasks -> Subtasks -->
                <line x1="350" y1="150" x2="450" y2="130" stroke="#666" stroke-width="2"/>
                <text x="380" y="135" font-size="12" fill="#666">1:N</text>
                
                <!-- Tasks -> Task Comments -->
                <line x1="350" y1="380" x2="450" y2="380" stroke="#666" stroke-width="2"/>
                <text x="380" y="375" font-size="12" fill="#666">1:N</text>
                
                <!-- Âá°‰æã -->
                <rect x="750" y="50" width="200" height="120" fill="#f8f9fa" stroke="#ddd" stroke-width="1" rx="4"/>
                <text x="760" y="75" font-size="14" font-weight="bold">Âá°‰æã</text>
                <text x="760" y="95" font-size="12" fill="#f44336">üîë ‰∏ª„Ç≠„Éº (Primary Key)</text>
                <text x="760" y="115" font-size="12" fill="#ff9800">üîó Â§ñÈÉ®„Ç≠„Éº (Foreign Key)</text>
                <text x="760" y="135" font-size="12" fill="#666">1:N ‰∏ÄÂØæÂ§ö„É™„É¨„Éº„Ç∑„Éß„É≥</text>
            </svg>
        </div>
        
        <h2>3. „ÉÜ„Éº„Éñ„É´Ë©≥Á¥∞ÂÆöÁæ©</h2>
        
        <!-- Tasks „ÉÜ„Éº„Éñ„É´Ë©≥Á¥∞ -->
        <div class="table-detail">
            <div class="detail-header">tasks „ÉÜ„Éº„Éñ„É´</div>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>„Ç´„É©„É†Âêç</th>
                        <th>„Éá„Éº„ÇøÂûã</th>
                        <th>Âà∂Á¥Ñ</th>
                        <th>Ë™¨Êòé</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>UUID</td>
                        <td><span class="constraint pk">PK</span><span class="constraint nn">NOT NULL</span></td>
                        <td>„Çø„Çπ„ÇØ„ÅÆ‰∏ÄÊÑèË≠òÂà•Â≠ê</td>
                    </tr>
                    <tr>
                        <td>title</td>
                        <td>VARCHAR(100)</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>„Çø„Çπ„ÇØÂêç</td>
                    </tr>
                    <tr>
                        <td>description</td>
                        <td>TEXT</td>
                        <td></td>
                        <td>„Çø„Çπ„ÇØ„ÅÆË©≥Á¥∞Ë™¨Êòé</td>
                    </tr>
                    <tr>
                        <td>category</td>
                        <td>ENUM('work', 'private', 'study', 'other')</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>„Çø„Çπ„ÇØ„ÅÆÁ®ÆÂà•</td>
                    </tr>
                    <tr>
                        <td>priority</td>
                        <td>ENUM('high', 'medium', 'low')</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>ÂÑ™ÂÖàÂ∫¶</td>
                    </tr>
                    <tr>
                        <td>urgency</td>
                        <td>ENUM('high', 'medium', 'low')</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>Á∑äÊÄ•Â∫¶</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>ENUM('not_started', 'in_progress', 'completed', 'on_hold')</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>„Çø„Çπ„ÇØ„ÅÆ„Çπ„ÉÜ„Éº„Çø„Çπ</td>
                    </tr>
                    <tr>
                        <td>progress</td>
                        <td>INTEGER</td>
                        <td>CHECK (progress >= 0 AND progress <= 100)</td>
                        <td>ÈÄ≤ÊçóÁéáÔºà0-100Ôºâ</td>
                    </tr>
                    <tr>
                        <td>due_date</td>
                        <td>TIMESTAMP</td>
                        <td></td>
                        <td>ÊúüÈôêÊó•ÊôÇ</td>
                    </tr>
                    <tr>
                        <td>planned_start_date</td>
                        <td>TIMESTAMP</td>
                        <td></td>
                        <td>ÈñãÂßã‰∫àÂÆöÊó•ÊôÇ</td>
                    </tr>
                    <tr>
                        <td>planned_end_date</td>
                        <td>TIMESTAMP</td>
                        <td></td>
                        <td>ÁµÇ‰∫Ü‰∫àÂÆöÊó•ÊôÇ</td>
                    </tr>
                    <tr>
                        <td>actual_start_date</td>
                        <td>TIMESTAMP</td>
                        <td></td>
                        <td>ÂÆüÈöõ„ÅÆÈñãÂßãÊó•ÊôÇ</td>
                    </tr>
                    <tr>
                        <td>actual_end_date</td>
                        <td>TIMESTAMP</td>
                        <td></td>
                        <td>ÂÆüÈöõ„ÅÆÁµÇ‰∫ÜÊó•ÊôÇ</td>
                    </tr>
                    <tr>
                        <td>estimated_hours</td>
                        <td>FLOAT</td>
                        <td>CHECK (estimated_hours >= 0)</td>
                        <td>Ë¶ãÁ©çÊôÇÈñì</td>
                    </tr>
                    <tr>
                        <td>actual_hours</td>
                        <td>FLOAT</td>
                        <td>CHECK (actual_hours >= 0)</td>
                        <td>ÂÆüÁ∏æÊôÇÈñì</td>
                    </tr>
                    <tr>
                        <td>notes</td>
                        <td>TEXT</td>
                        <td></td>
                        <td>„É°„É¢„ÉªÂÇôËÄÉ</td>
                    </tr>
                    <tr>
                        <td>created_at</td>
                        <td>TIMESTAMP</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>‰ΩúÊàêÊó•ÊôÇ</td>
                    </tr>
                    <tr>
                        <td>updated_at</td>
                        <td>TIMESTAMP</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>Êõ¥Êñ∞Êó•ÊôÇ</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Subtasks „ÉÜ„Éº„Éñ„É´Ë©≥Á¥∞ -->
        <div class="table-detail">
            <div class="detail-header">subtasks „ÉÜ„Éº„Éñ„É´</div>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>„Ç´„É©„É†Âêç</th>
                        <th>„Éá„Éº„ÇøÂûã</th>
                        <th>Âà∂Á¥Ñ</th>
                        <th>Ë™¨Êòé</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>UUID</td>
                        <td><span class="constraint pk">PK</span><span class="constraint nn">NOT NULL</span></td>
                        <td>„Çµ„Éñ„Çø„Çπ„ÇØ„ÅÆ‰∏ÄÊÑèË≠òÂà•Â≠ê</td>
                    </tr>
                    <tr>
                        <td>task_id</td>
                        <td>UUID</td>
                        <td><span class="constraint fk">FK</span><span class="constraint nn">NOT NULL</span></td>
                        <td>Ë¶™„Çø„Çπ„ÇØ„ÅÆID</td>
                    </tr>
                    <tr>
                        <td>title</td>
                        <td>VARCHAR(200)</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>„Çµ„Éñ„Çø„Çπ„ÇØÂêç</td>
                    </tr>
                    <tr>
                        <td>completed</td>
                        <td>BOOLEAN</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>ÂÆå‰∫Ü„Éï„É©„Ç∞</td>
                    </tr>
                    <tr>
                        <td>order_index</td>
                        <td>INTEGER</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>Ë°®Á§∫È†ÜÂ∫è</td>
                    </tr>
                    <tr>
                        <td>created_at</td>
                        <td>TIMESTAMP</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>‰ΩúÊàêÊó•ÊôÇ</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Task Comments „ÉÜ„Éº„Éñ„É´Ë©≥Á¥∞ -->
        <div class="table-detail">
            <div class="detail-header">task_comments „ÉÜ„Éº„Éñ„É´</div>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>„Ç´„É©„É†Âêç</th>
                        <th>„Éá„Éº„ÇøÂûã</th>
                        <th>Âà∂Á¥Ñ</th>
                        <th>Ë™¨Êòé</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>UUID</td>
                        <td><span class="constraint pk">PK</span><span class="constraint nn">NOT NULL</span></td>
                        <td>„Ç≥„É°„É≥„Éà„ÅÆ‰∏ÄÊÑèË≠òÂà•Â≠ê</td>
                    </tr>
                    <tr>
                        <td>task_id</td>
                        <td>UUID</td>
                        <td><span class="constraint fk">FK</span><span class="constraint nn">NOT NULL</span></td>
                        <td>ÂØæË±°„Çø„Çπ„ÇØ„ÅÆID</td>
                    </tr>
                    <tr>
                        <td>content</td>
                        <td>TEXT</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>„Ç≥„É°„É≥„ÉàÂÜÖÂÆπ</td>
                    </tr>
                    <tr>
                        <td>created_at</td>
                        <td>TIMESTAMP</td>
                        <td><span class="constraint nn">NOT NULL</span></td>
                        <td>‰ΩúÊàêÊó•ÊôÇ</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <h2>4. „Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπË®≠Ë®à</h2>
        <div class="table-detail">
            <div class="detail-header">„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰∏ÄË¶ß</div>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>„ÉÜ„Éº„Éñ„É´</th>
                        <th>„Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÂêç</th>
                        <th>„Ç´„É©„É†</th>
                        <th>ÁõÆÁöÑ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>tasks</td>
                        <td>idx_tasks_category</td>
                        <td>category</td>
                        <td>Á®ÆÂà•„Åß„ÅÆ„Éï„Ç£„É´„Çø„É™„É≥„Ç∞È´òÈÄüÂåñ</td>
                    </tr>
                    <tr>
                        <td>tasks</td>
                        <td>idx_tasks_priority_urgency</td>
                        <td>priority, urgency</td>
                        <td>„Éû„Éà„É™„ÉÉ„ÇØ„ÇπË°®Á§∫„ÅÆÈ´òÈÄüÂåñ</td>
                    </tr>
                    <tr>
                        <td>tasks</td>
                        <td>idx_tasks_status</td>
                        <td>status</td>
                        <td>„Çπ„ÉÜ„Éº„Çø„ÇπÊ§úÁ¥¢„ÅÆÈ´òÈÄüÂåñ</td>
                    </tr>
                    <tr>
                        <td>tasks</td>
                        <td>idx_tasks_due_date</td>
                        <td>due_date</td>
                        <td>ÊúüÈôê„Åß„ÅÆ‰∏¶„Å≥Êõø„ÅàÈ´òÈÄüÂåñ</td>
                    </tr>
                    <tr>
                        <td>subtasks</td>
                        <td>idx_subtasks_task_id</td>
                        <td>task_id</td>
                        <td>Ë¶™„Çø„Çπ„ÇØ„Åß„ÅÆÊ§úÁ¥¢È´òÈÄüÂåñ</td>
                    </tr>
                    <tr>
                        <td>task_comments</td>
                        <td>idx_comments_task_id</td>
                        <td>task_id</td>
                        <td>„Çø„Çπ„ÇØ„Ç≥„É°„É≥„ÉàÂèñÂæó„ÅÆÈ´òÈÄüÂåñ</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>